{"version":3,"sources":["../../xml-http-request.ts","../node_modules/stream-http/lib/request.js","../node_modules/stream-http/node_modules/isarray/index.js","../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/stream-http/node_modules/readable-stream/lib/_stream_passthrough.js","../node_modules/to-arraybuffer/index.js","../node_modules/builtin-status-codes/browser.js","../node_modules/os-browserify/browser.js","../../progress-event.ts","../../errors.ts","../../xml-http-request-upload.ts","../node_modules/cookiejar/cookiejar.js","../node_modules/@babel/runtime/helpers/get.js","../node_modules/stream-http/node_modules/readable-stream/lib/_stream_duplex.js","../node_modules/fast-safe-stringify/index.js","../index.ts","../node_modules/@babel/runtime/helpers/superPropBase.js","../node_modules/stream-http/index.js","../../xml-http-request-event-target.ts","../../index.ts","../node_modules/stream-http/lib/capability.js","../node_modules/stream-http/lib/response.js","../node_modules/stream-http/node_modules/readable-stream/readable-browser.js","../node_modules/stream-http/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/stream-http/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/stream-http/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/stream-http/node_modules/readable-stream/lib/_stream_transform.js","../node_modules/https-browserify/index.js"],"names":["XMLHttpRequest","capability","require","inherits","response","stream","toArrayBuffer","IncomingMessage","rStates","readyStates","ClientRequest","module","exports","opts","preferBinary","self","this","Writable","call","_opts","_body","_headers","auth","setHeader","Buffer","toString","Object","keys","headers","forEach","name","useFetch","mode","abortController","overrideMimeType","Error","_mode","fetch","mozchunkedarraybuffer","msstream","arraybuffer","vbArray","decideMode","_fetchTimer","on","_onFinish","prototype","value","lowerName","toLowerCase","unsafeHeaders","indexOf","getHeader","header","removeHeader","_destroyed","headersObj","body","method","concat","blobConstructor","global","Blob","map","buffer","type","headersList","keyName","Array","isArray","v","push","signal","controller","AbortController","_fetchAbortController","requestTimeout","setTimeout","emit","abort","url","undefined","credentials","withCredentials","then","_fetchResponse","_connect","reason","clearTimeout","xhr","_xhr","open","err","process","nextTick","responseType","split","timeout","ontimeout","setRequestHeader","_response","onreadystatechange","readyState","LOADING","DONE","_onXHRProgress","onprogress","onerror","send","status","e","statusValid","_write","chunk","encoding","cb","destroy","end","data","flushHeaders","setNoDelay","setSocketKeepAlive","arr","util","BufferList","instance","Constructor","TypeError","_classCallCheck","head","tail","length","entry","next","unshift","shift","ret","clear","join","s","p","n","alloc","src","target","offset","allocUnsafe","i","copy","inspect","custom","obj","constructor","PassThrough","Transform","create","options","_transform","buf","Uint8Array","byteOffset","byteLength","slice","isBuffer","arrayCopy","len","endianness","hostname","location","loadavg","uptime","freemem","Number","MAX_VALUE","totalmem","cpus","release","navigator","appVersion","networkInterfaces","getNetworkInterfaces","arch","platform","tmpdir","tmpDir","EOL","homedir","ProgressEvent","CookieAccessInfo","domain","path","secure","script","Cookie","cookiestr","request_domain","request_path","expiration_date","Infinity","String","explicit_path","explicit_domain","noscript","parse","All","freeze","str","Date","toGMTString","toValueString","cookie_str_splitter","CookieJar","cookies","cookies_list","setCookie","cookie","remove","now","collidesWith","splice","getCookie","cookie_name","access_info","matches","getCookies","c","parts","filter","pair","match","console","warn","key","trim","access_domain","replace","cookie_domain","wildcard","setCookies","successful","item","superPropBase","_get","Reflect","get","__esModule","property","receiver","base","desc","getOwnPropertyDescriptor","arguments","apply","pna","objectKeys","Duplex","Readable","readable","writable","allowHalfOpen","once","onend","_writableState","ended","onEndNT","defineProperty","enumerable","highWaterMark","_readableState","destroyed","set","_destroy","stringify","default","stable","deterministicStringify","stableStringify","LIMIT_REPLACE_NODE","CIRCULAR_REPLACE_NODE","replacerStack","defaultOptions","depthLimit","MAX_SAFE_INTEGER","edgesLimit","replacer","spacer","res","decirc","JSON","replaceGetterValues","_","part","pop","setReplace","val","k","parent","propertyDescriptor","configurable","edgeIndex","stack","depth","compareFunction","a","b","tmp","deterministicDecirc","toJSON","sort","getPrototypeOf","object","hasOwnProperty","extend","statusCodes","http","request","defaultProtocol","protocol","search","host","port","toUpperCase","req","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","isFunction","ReadableStream","writableStream","WritableStream","ArrayBuffer","getXHR","XDomainRequest","checkTypeSupport","haveArrayBuffer","haveSlice","VBArray","UNSENT","OPENED","HEADERS_RECEIVED","fetchTimer","rawHeaders","trailers","rawTrailers","statusCode","statusMessage","statusText","write","Promise","resolve","reject","_resumeFetch","close","pipeTo","catch","reader","getReader","read","result","done","_pos","responseURL","getAllResponseHeaders","_charset","mimeType","charsetMatch","_read","responseBody","toArray","responseText","newData","substr","charCodeAt","MSStreamReader","onload","readAsArrayBuffer","Stream","ReadableState","EventEmitter","EElistenerCount","emitter","listeners","OurUint8Array","debugUtil","debug","debuglog","StringDecoder","destroyImpl","kProxyEvents","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","Math","floor","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","readableAddChunk","addToFront","skipChunkCheck","er","state","emitReadable","onEofChunk","chunkInvalid","from","_uint8ArrayToBuffer","addChunk","maybeReadMore","needMoreData","_undestroy","undestroy","isPaused","setEncoding","enc","MAX_HWM","howMuchToRead","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","nReadingNextTick","resume_","fromList","list","hasStrings","nb","copyFromBufferString","copyFromBuffer","fromListPartial","endReadable","endReadableNT","xs","x","l","parseInt","nOrig","doRead","pipe","dest","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","removeListener","onclose","onfinish","ondrain","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","pause","event","fn","prependListener","_events","resume","dests","index","ev","addListener","wrap","_this","paused","bind","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finished","CorkedRequest","finish","corkReq","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","browser","version","setImmediate","WritableState","internalUtil","deprecate","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","count","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","out","Symbol","hasInstance","Function","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","endWritable","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","transform","flush","_flush","_this2","err2","https","validateParams","params"],"mappings":"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","file":"static/js/3.5ffb5fa7.chunk.js","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar os = require(\"os\");\nvar url = require(\"url\");\nvar progress_event_1 = require(\"./progress-event\");\nvar errors_1 = require(\"./errors\");\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar xml_http_request_upload_1 = require(\"./xml-http-request-upload\");\nvar Cookie = require(\"cookiejar\");\nvar XMLHttpRequest = /** @class */ (function (_super) {\n    __extends(XMLHttpRequest, _super);\n    function XMLHttpRequest(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.UNSENT = XMLHttpRequest.UNSENT;\n        _this.OPENED = XMLHttpRequest.OPENED;\n        _this.HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED;\n        _this.LOADING = XMLHttpRequest.LOADING;\n        _this.DONE = XMLHttpRequest.DONE;\n        _this.onreadystatechange = null;\n        _this.readyState = XMLHttpRequest.UNSENT;\n        _this.response = null;\n        _this.responseText = '';\n        _this.responseType = '';\n        _this.status = 0; // TODO: UNSENT?\n        _this.statusText = '';\n        _this.timeout = 0;\n        _this.upload = new xml_http_request_upload_1.XMLHttpRequestUpload();\n        _this.responseUrl = '';\n        _this.withCredentials = false;\n        _this._method = null;\n        _this._url = null;\n        _this._sync = false;\n        _this._headers = {};\n        _this._loweredHeaders = {};\n        _this._mimeOverride = null; // TODO: is type right?\n        _this._request = null;\n        _this._response = null;\n        _this._responseParts = null;\n        _this._responseHeaders = null;\n        _this._aborting = null; // TODO: type?\n        _this._error = null; // TODO: type?\n        _this._loadedBytes = 0;\n        _this._totalBytes = 0;\n        _this._lengthComputable = false;\n        _this._restrictedMethods = { CONNECT: true, TRACE: true, TRACK: true };\n        _this._restrictedHeaders = {\n            'accept-charset': true,\n            'accept-encoding': true,\n            'access-control-request-headers': true,\n            'access-control-request-method': true,\n            connection: true,\n            'content-length': true,\n            cookie: true,\n            cookie2: true,\n            date: true,\n            dnt: true,\n            expect: true,\n            host: true,\n            'keep-alive': true,\n            origin: true,\n            referer: true,\n            te: true,\n            trailer: true,\n            'transfer-encoding': true,\n            upgrade: true,\n            'user-agent': true,\n            via: true\n        };\n        _this._privateHeaders = { 'set-cookie': true, 'set-cookie2': true };\n        _this._userAgent = \"Mozilla/5.0 (\" + os.type() + \" \" + os.arch() + \") node.js/\" + process.versions.node + \" v8/\" + process.versions.v8;\n        _this._anonymous = options.anon || false;\n        return _this;\n    }\n    XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n        if (async === void 0) { async = true; }\n        method = method.toUpperCase();\n        if (this._restrictedMethods[method]) {\n            throw new XMLHttpRequest.SecurityError(\"HTTP method \" + method + \" is not allowed in XHR\");\n        }\n        ;\n        var xhrUrl = this._parseUrl(url, user, password);\n        if (this.readyState === XMLHttpRequest.HEADERS_RECEIVED || this.readyState === XMLHttpRequest.LOADING) {\n            // TODO(pwnall): terminate abort(), terminate send()\n        }\n        this._method = method;\n        this._url = xhrUrl;\n        this._sync = !async;\n        this._headers = {};\n        this._loweredHeaders = {};\n        this._mimeOverride = null;\n        this._setReadyState(XMLHttpRequest.OPENED);\n        this._request = null;\n        this._response = null;\n        this.status = 0;\n        this.statusText = '';\n        this._responseParts = [];\n        this._responseHeaders = null;\n        this._loadedBytes = 0;\n        this._totalBytes = 0;\n        this._lengthComputable = false;\n    };\n    XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\n        if (this.readyState !== XMLHttpRequest.OPENED) {\n            throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n        }\n        var loweredName = name.toLowerCase();\n        if (this._restrictedHeaders[loweredName] || /^sec-/.test(loweredName) || /^proxy-/.test(loweredName)) {\n            console.warn(\"Refused to set unsafe header \\\"\" + name + \"\\\"\");\n            return;\n        }\n        value = value.toString();\n        if (this._loweredHeaders[loweredName] != null) {\n            name = this._loweredHeaders[loweredName];\n            this._headers[name] = this._headers[name] + \", \" + value;\n        }\n        else {\n            this._loweredHeaders[loweredName] = name;\n            this._headers[name] = value;\n        }\n    };\n    XMLHttpRequest.prototype.send = function (data) {\n        if (this.readyState !== XMLHttpRequest.OPENED) {\n            throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n        }\n        if (this._request) {\n            throw new XMLHttpRequest.InvalidStateError('send() already called');\n        }\n        switch (this._url.protocol) {\n            case 'file:':\n                return this._sendFile(data);\n            case 'http:':\n            case 'https:':\n                return this._sendHttp(data);\n            default:\n                throw new XMLHttpRequest.NetworkError(\"Unsupported protocol \" + this._url.protocol);\n        }\n    };\n    XMLHttpRequest.prototype.abort = function () {\n        if (this._request == null) {\n            return;\n        }\n        this._request.abort();\n        this._setError();\n        this._dispatchProgress('abort');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype.getResponseHeader = function (name) {\n        if (this._responseHeaders == null || name == null) {\n            return null;\n        }\n        var loweredName = name.toLowerCase();\n        return this._responseHeaders.hasOwnProperty(loweredName)\n            ? this._responseHeaders[name.toLowerCase()]\n            : null;\n    };\n    XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n        var _this = this;\n        if (this._responseHeaders == null) {\n            return '';\n        }\n        return Object.keys(this._responseHeaders).map(function (key) { return key + \": \" + _this._responseHeaders[key]; }).join('\\r\\n');\n    };\n    XMLHttpRequest.prototype.overrideMimeType = function (mimeType) {\n        if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {\n            throw new XMLHttpRequest.InvalidStateError('overrideMimeType() not allowed in LOADING or DONE');\n        }\n        this._mimeOverride = mimeType.toLowerCase();\n    };\n    XMLHttpRequest.prototype.nodejsSet = function (options) {\n        this.nodejsHttpAgent = options.httpAgent || this.nodejsHttpAgent;\n        this.nodejsHttpsAgent = options.httpsAgent || this.nodejsHttpsAgent;\n        if (options.hasOwnProperty('baseUrl')) {\n            if (options.baseUrl != null) {\n                var parsedUrl = url.parse(options.baseUrl, false, true);\n                if (!parsedUrl.protocol) {\n                    throw new XMLHttpRequest.SyntaxError(\"baseUrl must be an absolute URL\");\n                }\n            }\n            this.nodejsBaseUrl = options.baseUrl;\n        }\n    };\n    XMLHttpRequest.nodejsSet = function (options) {\n        XMLHttpRequest.prototype.nodejsSet(options);\n    };\n    XMLHttpRequest.prototype._setReadyState = function (readyState) {\n        this.readyState = readyState;\n        this.dispatchEvent(new progress_event_1.ProgressEvent('readystatechange'));\n    };\n    XMLHttpRequest.prototype._sendFile = function (data) {\n        // TODO\n        throw new Error('Protocol file: not implemented');\n    };\n    XMLHttpRequest.prototype._sendHttp = function (data) {\n        if (this._sync) {\n            throw new Error('Synchronous XHR processing not implemented');\n        }\n        if (data && (this._method === 'GET' || this._method === 'HEAD')) {\n            console.warn(\"Discarding entity body for \" + this._method + \" requests\");\n            data = null;\n        }\n        else {\n            data = data || '';\n        }\n        this.upload._setData(data);\n        this._finalizeHeaders();\n        this._sendHxxpRequest();\n    };\n    XMLHttpRequest.prototype._sendHxxpRequest = function () {\n        var _this = this;\n        if (this.withCredentials) {\n            var cookie = XMLHttpRequest.cookieJar\n                .getCookies(Cookie.CookieAccessInfo(this._url.hostname, this._url.pathname, this._url.protocol === 'https:')).toValueString();\n            this._headers.cookie = this._headers.cookie2 = cookie;\n        }\n        var _a = this._url.protocol === 'http:' ? [http, this.nodejsHttpAgent] : [https, this.nodejsHttpsAgent], hxxp = _a[0], agent = _a[1];\n        var requestMethod = hxxp.request.bind(hxxp);\n        var request = requestMethod({\n            hostname: this._url.hostname,\n            port: +this._url.port,\n            path: this._url.path,\n            auth: this._url.auth,\n            method: this._method,\n            headers: this._headers,\n            agent: agent\n        });\n        this._request = request;\n        if (this.timeout) {\n            request.setTimeout(this.timeout, function () { return _this._onHttpTimeout(request); });\n        }\n        request.on('response', function (response) { return _this._onHttpResponse(request, response); });\n        request.on('error', function (error) { return _this._onHttpRequestError(request, error); });\n        this.upload._startUpload(request);\n        if (this._request === request) {\n            this._dispatchProgress('loadstart');\n        }\n    };\n    XMLHttpRequest.prototype._finalizeHeaders = function () {\n        this._headers = __assign({}, this._headers, { Connection: 'keep-alive', Host: this._url.host, 'User-Agent': this._userAgent }, this._anonymous ? { Referer: 'about:blank' } : {});\n        this.upload._finalizeHeaders(this._headers, this._loweredHeaders);\n    };\n    XMLHttpRequest.prototype._onHttpResponse = function (request, response) {\n        var _this = this;\n        if (this._request !== request) {\n            return;\n        }\n        if (this.withCredentials && (response.headers['set-cookie'] || response.headers['set-cookie2'])) {\n            XMLHttpRequest.cookieJar\n                .setCookies(response.headers['set-cookie'] || response.headers['set-cookie2']);\n        }\n        if ([301, 302, 303, 307, 308].indexOf(response.statusCode) >= 0) {\n            this._url = this._parseUrl(response.headers.location);\n            this._method = 'GET';\n            if (this._loweredHeaders['content-type']) {\n                delete this._headers[this._loweredHeaders['content-type']];\n                delete this._loweredHeaders['content-type'];\n            }\n            if (this._headers['Content-Type'] != null) {\n                delete this._headers['Content-Type'];\n            }\n            delete this._headers['Content-Length'];\n            this.upload._reset();\n            this._finalizeHeaders();\n            this._sendHxxpRequest();\n            return;\n        }\n        this._response = response;\n        this._response.on('data', function (data) { return _this._onHttpResponseData(response, data); });\n        this._response.on('end', function () { return _this._onHttpResponseEnd(response); });\n        this._response.on('close', function () { return _this._onHttpResponseClose(response); });\n        this.responseUrl = this._url.href.split('#')[0];\n        this.status = response.statusCode;\n        this.statusText = http.STATUS_CODES[this.status];\n        this._parseResponseHeaders(response);\n        var lengthString = this._responseHeaders['content-length'] || '';\n        this._totalBytes = +lengthString;\n        this._lengthComputable = !!lengthString;\n        this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);\n    };\n    XMLHttpRequest.prototype._onHttpResponseData = function (response, data) {\n        if (this._response !== response) {\n            return;\n        }\n        this._responseParts.push(new Buffer(data));\n        this._loadedBytes += data.length;\n        if (this.readyState !== XMLHttpRequest.LOADING) {\n            this._setReadyState(XMLHttpRequest.LOADING);\n        }\n        this._dispatchProgress('progress');\n    };\n    XMLHttpRequest.prototype._onHttpResponseEnd = function (response) {\n        if (this._response !== response) {\n            return;\n        }\n        this._parseResponse();\n        this._request = null;\n        this._response = null;\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('load');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpResponseClose = function (response) {\n        if (this._response !== response) {\n            return;\n        }\n        var request = this._request;\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('error');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpTimeout = function (request) {\n        if (this._request !== request) {\n            return;\n        }\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('timeout');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpRequestError = function (request, error) {\n        if (this._request !== request) {\n            return;\n        }\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('error');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._dispatchProgress = function (eventType) {\n        var event = new XMLHttpRequest.ProgressEvent(eventType);\n        event.lengthComputable = this._lengthComputable;\n        event.loaded = this._loadedBytes;\n        event.total = this._totalBytes;\n        this.dispatchEvent(event);\n    };\n    XMLHttpRequest.prototype._setError = function () {\n        this._request = null;\n        this._response = null;\n        this._responseHeaders = null;\n        this._responseParts = null;\n    };\n    XMLHttpRequest.prototype._parseUrl = function (urlString, user, password) {\n        var absoluteUrl = this.nodejsBaseUrl == null ? urlString : url.resolve(this.nodejsBaseUrl, urlString);\n        var xhrUrl = url.parse(absoluteUrl, false, true);\n        xhrUrl.hash = null;\n        var _a = (xhrUrl.auth || '').split(':'), xhrUser = _a[0], xhrPassword = _a[1];\n        if (xhrUser || xhrPassword || user || password) {\n            xhrUrl.auth = (user || xhrUser || '') + \":\" + (password || xhrPassword || '');\n        }\n        return xhrUrl;\n    };\n    XMLHttpRequest.prototype._parseResponseHeaders = function (response) {\n        this._responseHeaders = {};\n        for (var name_1 in response.headers) {\n            var loweredName = name_1.toLowerCase();\n            if (this._privateHeaders[loweredName]) {\n                continue;\n            }\n            this._responseHeaders[loweredName] = response.headers[name_1];\n        }\n        if (this._mimeOverride != null) {\n            this._responseHeaders['content-type'] = this._mimeOverride;\n        }\n    };\n    XMLHttpRequest.prototype._parseResponse = function () {\n        var buffer = Buffer.concat(this._responseParts);\n        this._responseParts = null;\n        switch (this.responseType) {\n            case 'json':\n                this.responseText = null;\n                try {\n                    this.response = JSON.parse(buffer.toString('utf-8'));\n                }\n                catch (_a) {\n                    this.response = null;\n                }\n                return;\n            case 'buffer':\n                this.responseText = null;\n                this.response = buffer;\n                return;\n            case 'arraybuffer':\n                this.responseText = null;\n                var arrayBuffer = new ArrayBuffer(buffer.length);\n                var view = new Uint8Array(arrayBuffer);\n                for (var i = 0; i < buffer.length; i++) {\n                    view[i] = buffer[i];\n                }\n                this.response = arrayBuffer;\n                return;\n            case 'text':\n            default:\n                try {\n                    this.responseText = buffer.toString(this._parseResponseEncoding());\n                }\n                catch (_b) {\n                    this.responseText = buffer.toString('binary');\n                }\n                this.response = this.responseText;\n        }\n    };\n    XMLHttpRequest.prototype._parseResponseEncoding = function () {\n        return /;\\s*charset=(.*)$/.exec(this._responseHeaders['content-type'] || '')[1] || 'utf-8';\n    };\n    XMLHttpRequest.ProgressEvent = progress_event_1.ProgressEvent;\n    XMLHttpRequest.InvalidStateError = errors_1.InvalidStateError;\n    XMLHttpRequest.NetworkError = errors_1.NetworkError;\n    XMLHttpRequest.SecurityError = errors_1.SecurityError;\n    XMLHttpRequest.SyntaxError = errors_1.SyntaxError;\n    XMLHttpRequest.XMLHttpRequestUpload = xml_http_request_upload_1.XMLHttpRequestUpload;\n    XMLHttpRequest.UNSENT = 0;\n    XMLHttpRequest.OPENED = 1;\n    XMLHttpRequest.HEADERS_RECEIVED = 2;\n    XMLHttpRequest.LOADING = 3;\n    XMLHttpRequest.DONE = 4;\n    XMLHttpRequest.cookieJar = Cookie.CookieJar();\n    return XMLHttpRequest;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget));\nexports.XMLHttpRequest = XMLHttpRequest;\nXMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;\nXMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;\nXMLHttpRequest.prototype.nodejsBaseUrl = null;\n//# sourceMappingURL=xml-http-request.js.map","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","var Buffer = require('buffer').Buffer\n\nmodule.exports = function (buf) {\n\t// If the buffer is backed by a Uint8Array, a faster version will work\n\tif (buf instanceof Uint8Array) {\n\t\t// If the buffer isn't a subarray, return the underlying ArrayBuffer\n\t\tif (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n\t\t\treturn buf.buffer\n\t\t} else if (typeof buf.buffer.slice === 'function') {\n\t\t\t// Otherwise we need to get a proper copy\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n\t\t}\n\t}\n\n\tif (Buffer.isBuffer(buf)) {\n\t\t// This is the slow version that will work with any Buffer\n\t\t// implementation (even in old browsers)\n\t\tvar arrayCopy = new Uint8Array(buf.length)\n\t\tvar len = buf.length\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tarrayCopy[i] = buf[i]\n\t\t}\n\t\treturn arrayCopy.buffer\n\t} else {\n\t\tthrow new Error('Argument must be a Buffer')\n\t}\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProgressEvent = /** @class */ (function () {\n    function ProgressEvent(type) {\n        this.type = type;\n        this.bubbles = false;\n        this.cancelable = false;\n        this.loaded = 0;\n        this.lengthComputable = false;\n        this.total = 0;\n    }\n    return ProgressEvent;\n}());\nexports.ProgressEvent = ProgressEvent;\n//# sourceMappingURL=progress-event.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SecurityError = /** @class */ (function (_super) {\n    __extends(SecurityError, _super);\n    function SecurityError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SecurityError;\n}(Error));\nexports.SecurityError = SecurityError;\nvar InvalidStateError = /** @class */ (function (_super) {\n    __extends(InvalidStateError, _super);\n    function InvalidStateError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return InvalidStateError;\n}(Error));\nexports.InvalidStateError = InvalidStateError;\nvar NetworkError = /** @class */ (function (_super) {\n    __extends(NetworkError, _super);\n    function NetworkError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NetworkError;\n}(Error));\nexports.NetworkError = NetworkError;\nvar SyntaxError = /** @class */ (function (_super) {\n    __extends(SyntaxError, _super);\n    function SyntaxError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SyntaxError;\n}(Error));\nexports.SyntaxError = SyntaxError;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar XMLHttpRequestUpload = /** @class */ (function (_super) {\n    __extends(XMLHttpRequestUpload, _super);\n    function XMLHttpRequestUpload() {\n        var _this = _super.call(this) || this;\n        _this._contentType = null;\n        _this._body = null;\n        _this._reset();\n        return _this;\n    }\n    XMLHttpRequestUpload.prototype._reset = function () {\n        this._contentType = null;\n        this._body = null;\n    };\n    XMLHttpRequestUpload.prototype._setData = function (data) {\n        if (data == null) {\n            return;\n        }\n        if (typeof data === 'string') {\n            if (data.length !== 0) {\n                this._contentType = 'text/plain;charset=UTF-8';\n            }\n            this._body = new Buffer(data, 'utf-8');\n        }\n        else if (Buffer.isBuffer(data)) {\n            this._body = data;\n        }\n        else if (data instanceof ArrayBuffer) {\n            var body = new Buffer(data.byteLength);\n            var view = new Uint8Array(data);\n            for (var i = 0; i < data.byteLength; i++) {\n                body[i] = view[i];\n            }\n            this._body = body;\n        }\n        else if (data.buffer && data.buffer instanceof ArrayBuffer) {\n            var body = new Buffer(data.byteLength);\n            var offset = data.byteOffset;\n            var view = new Uint8Array(data.buffer);\n            for (var i = 0; i < data.byteLength; i++) {\n                body[i] = view[i + offset];\n            }\n            this._body = body;\n        }\n        else {\n            throw new Error(\"Unsupported send() data \" + data);\n        }\n    };\n    XMLHttpRequestUpload.prototype._finalizeHeaders = function (headers, loweredHeaders) {\n        if (this._contentType && !loweredHeaders['content-type']) {\n            headers['Content-Type'] = this._contentType;\n        }\n        if (this._body) {\n            headers['Content-Length'] = this._body.length.toString();\n        }\n    };\n    XMLHttpRequestUpload.prototype._startUpload = function (request) {\n        if (this._body) {\n            request.write(this._body);\n        }\n        request.end();\n    };\n    return XMLHttpRequestUpload;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget));\nexports.XMLHttpRequestUpload = XMLHttpRequestUpload;\n//# sourceMappingURL=xml-http-request-upload.js.map","/* jshint node: true */\n(function () {\n    \"use strict\";\n\n    function CookieAccessInfo(domain, path, secure, script) {\n        if (this instanceof CookieAccessInfo) {\n            this.domain = domain || undefined;\n            this.path = path || \"/\";\n            this.secure = !!secure;\n            this.script = !!script;\n            return this;\n        }\n        return new CookieAccessInfo(domain, path, secure, script);\n    }\n    CookieAccessInfo.All = Object.freeze(Object.create(null));\n    exports.CookieAccessInfo = CookieAccessInfo;\n\n    function Cookie(cookiestr, request_domain, request_path) {\n        if (cookiestr instanceof Cookie) {\n            return cookiestr;\n        }\n        if (this instanceof Cookie) {\n            this.name = null;\n            this.value = null;\n            this.expiration_date = Infinity;\n            this.path = String(request_path || \"/\");\n            this.explicit_path = false;\n            this.domain = request_domain || null;\n            this.explicit_domain = false;\n            this.secure = false; //how to define default?\n            this.noscript = false; //httponly\n            if (cookiestr) {\n                this.parse(cookiestr, request_domain, request_path);\n            }\n            return this;\n        }\n        return new Cookie(cookiestr, request_domain, request_path);\n    }\n    exports.Cookie = Cookie;\n\n    Cookie.prototype.toString = function toString() {\n        var str = [this.name + \"=\" + this.value];\n        if (this.expiration_date !== Infinity) {\n            str.push(\"expires=\" + (new Date(this.expiration_date)).toGMTString());\n        }\n        if (this.domain) {\n            str.push(\"domain=\" + this.domain);\n        }\n        if (this.path) {\n            str.push(\"path=\" + this.path);\n        }\n        if (this.secure) {\n            str.push(\"secure\");\n        }\n        if (this.noscript) {\n            str.push(\"httponly\");\n        }\n        return str.join(\"; \");\n    };\n\n    Cookie.prototype.toValueString = function toValueString() {\n        return this.name + \"=\" + this.value;\n    };\n\n    var cookie_str_splitter = /[:](?=\\s*[a-zA-Z0-9_\\-]+\\s*[=])/g;\n    Cookie.prototype.parse = function parse(str, request_domain, request_path) {\n        if (this instanceof Cookie) {\n            var parts = str.split(\";\").filter(function (value) {\n                    return !!value;\n                });\n            var i;\n\n            var pair = parts[0].match(/([^=]+)=([\\s\\S]*)/);\n            if (!pair) {\n                console.warn(\"Invalid cookie header encountered. Header: '\"+str+\"'\");\n                return;\n            }\n\n            var key = pair[1];\n            var value = pair[2];\n            if ( typeof key !== 'string' || key.length === 0 || typeof value !== 'string' ) {\n                console.warn(\"Unable to extract values from cookie header. Cookie: '\"+str+\"'\");\n                return;\n            }\n\n            this.name = key;\n            this.value = value;\n\n            for (i = 1; i < parts.length; i += 1) {\n                pair = parts[i].match(/([^=]+)(?:=([\\s\\S]*))?/);\n                key = pair[1].trim().toLowerCase();\n                value = pair[2];\n                switch (key) {\n                case \"httponly\":\n                    this.noscript = true;\n                    break;\n                case \"expires\":\n                    this.expiration_date = value ?\n                            Number(Date.parse(value)) :\n                            Infinity;\n                    break;\n                case \"path\":\n                    this.path = value ?\n                            value.trim() :\n                            \"\";\n                    this.explicit_path = true;\n                    break;\n                case \"domain\":\n                    this.domain = value ?\n                            value.trim() :\n                            \"\";\n                    this.explicit_domain = !!this.domain;\n                    break;\n                case \"secure\":\n                    this.secure = true;\n                    break;\n                }\n            }\n\n            if (!this.explicit_path) {\n               this.path = request_path || \"/\";\n            }\n            if (!this.explicit_domain) {\n               this.domain = request_domain;\n            }\n\n            return this;\n        }\n        return new Cookie().parse(str, request_domain, request_path);\n    };\n\n    Cookie.prototype.matches = function matches(access_info) {\n        if (access_info === CookieAccessInfo.All) {\n          return true;\n        }\n        if (this.noscript && access_info.script ||\n                this.secure && !access_info.secure ||\n                !this.collidesWith(access_info)) {\n            return false;\n        }\n        return true;\n    };\n\n    Cookie.prototype.collidesWith = function collidesWith(access_info) {\n        if ((this.path && !access_info.path) || (this.domain && !access_info.domain)) {\n            return false;\n        }\n        if (this.path && access_info.path.indexOf(this.path) !== 0) {\n            return false;\n        }\n        if (this.explicit_path && access_info.path.indexOf( this.path ) !== 0) {\n           return false;\n        }\n        var access_domain = access_info.domain && access_info.domain.replace(/^[\\.]/,'');\n        var cookie_domain = this.domain && this.domain.replace(/^[\\.]/,'');\n        if (cookie_domain === access_domain) {\n            return true;\n        }\n        if (cookie_domain) {\n            if (!this.explicit_domain) {\n                return false; // we already checked if the domains were exactly the same\n            }\n            var wildcard = access_domain.indexOf(cookie_domain);\n            if (wildcard === -1 || wildcard !== access_domain.length - cookie_domain.length) {\n                return false;\n            }\n            return true;\n        }\n        return true;\n    };\n\n    function CookieJar() {\n        var cookies, cookies_list, collidable_cookie;\n        if (this instanceof CookieJar) {\n            cookies = Object.create(null); //name: [Cookie]\n\n            this.setCookie = function setCookie(cookie, request_domain, request_path) {\n                var remove, i;\n                cookie = new Cookie(cookie, request_domain, request_path);\n                //Delete the cookie if the set is past the current time\n                remove = cookie.expiration_date <= Date.now();\n                if (cookies[cookie.name] !== undefined) {\n                    cookies_list = cookies[cookie.name];\n                    for (i = 0; i < cookies_list.length; i += 1) {\n                        collidable_cookie = cookies_list[i];\n                        if (collidable_cookie.collidesWith(cookie)) {\n                            if (remove) {\n                                cookies_list.splice(i, 1);\n                                if (cookies_list.length === 0) {\n                                    delete cookies[cookie.name];\n                                }\n                                return false;\n                            }\n                            cookies_list[i] = cookie;\n                            return cookie;\n                        }\n                    }\n                    if (remove) {\n                        return false;\n                    }\n                    cookies_list.push(cookie);\n                    return cookie;\n                }\n                if (remove) {\n                    return false;\n                }\n                cookies[cookie.name] = [cookie];\n                return cookies[cookie.name];\n            };\n            //returns a cookie\n            this.getCookie = function getCookie(cookie_name, access_info) {\n                var cookie, i;\n                cookies_list = cookies[cookie_name];\n                if (!cookies_list) {\n                    return;\n                }\n                for (i = 0; i < cookies_list.length; i += 1) {\n                    cookie = cookies_list[i];\n                    if (cookie.expiration_date <= Date.now()) {\n                        if (cookies_list.length === 0) {\n                            delete cookies[cookie.name];\n                        }\n                        continue;\n                    }\n\n                    if (cookie.matches(access_info)) {\n                        return cookie;\n                    }\n                }\n            };\n            //returns a list of cookies\n            this.getCookies = function getCookies(access_info) {\n                var matches = [], cookie_name, cookie;\n                for (cookie_name in cookies) {\n                    cookie = this.getCookie(cookie_name, access_info);\n                    if (cookie) {\n                        matches.push(cookie);\n                    }\n                }\n                matches.toString = function toString() {\n                    return matches.join(\":\");\n                };\n                matches.toValueString = function toValueString() {\n                    return matches.map(function (c) {\n                        return c.toValueString();\n                    }).join('; ');\n                };\n                return matches;\n            };\n\n            return this;\n        }\n        return new CookieJar();\n    }\n    exports.CookieJar = CookieJar;\n\n    //returns list of cookies that were set correctly. Cookies that are expired and removed are not returned.\n    CookieJar.prototype.setCookies = function setCookies(cookies, request_domain, request_path) {\n        cookies = Array.isArray(cookies) ?\n                cookies :\n                cookies.split(cookie_str_splitter);\n        var successful = [],\n            i,\n            cookie;\n        cookies = cookies.map(function(item){\n            return new Cookie(item, request_domain, request_path);\n        });\n        for (i = 0; i < cookies.length; i += 1) {\n            cookie = cookies[i];\n            if (this.setCookie(cookie, request_domain, request_path)) {\n                successful.push(cookie);\n            }\n        }\n        return successful;\n    };\n}());\n","var superPropBase = require(\"./superPropBase.js\");\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  }\n\n  return _get.apply(this, arguments);\n}\n\nmodule.exports = _get, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};","module.exports = stringify\nstringify.default = stringify\nstringify.stable = deterministicStringify\nstringify.stableStringify = deterministicStringify\n\nvar LIMIT_REPLACE_NODE = '[...]'\nvar CIRCULAR_REPLACE_NODE = '[Circular]'\n\nvar arr = []\nvar replacerStack = []\n\nfunction defaultOptions () {\n  return {\n    depthLimit: Number.MAX_SAFE_INTEGER,\n    edgesLimit: Number.MAX_SAFE_INTEGER\n  }\n}\n\n// Regular stringify\nfunction stringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  decirc(obj, '', 0, [], undefined, 0, options)\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(obj, replacer, spacer)\n    } else {\n      res = JSON.stringify(obj, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction setReplace (replace, val, k, parent) {\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(parent, k)\n  if (propertyDescriptor.get !== undefined) {\n    if (propertyDescriptor.configurable) {\n      Object.defineProperty(parent, k, { value: replace })\n      arr.push([parent, k, val, propertyDescriptor])\n    } else {\n      replacerStack.push([val, k, replace])\n    }\n  } else {\n    parent[k] = replace\n    arr.push([parent, k, val])\n  }\n}\n\nfunction decirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        decirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      var keys = Object.keys(val)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        decirc(val[key], key, i, stack, val, depth, options)\n      }\n    }\n    stack.pop()\n  }\n}\n\n// Stable-stringify\nfunction compareFunction (a, b) {\n  if (a < b) {\n    return -1\n  }\n  if (a > b) {\n    return 1\n  }\n  return 0\n}\n\nfunction deterministicStringify (obj, replacer, spacer, options) {\n  if (typeof options === 'undefined') {\n    options = defaultOptions()\n  }\n\n  var tmp = deterministicDecirc(obj, '', 0, [], undefined, 0, options) || obj\n  var res\n  try {\n    if (replacerStack.length === 0) {\n      res = JSON.stringify(tmp, replacer, spacer)\n    } else {\n      res = JSON.stringify(tmp, replaceGetterValues(replacer), spacer)\n    }\n  } catch (_) {\n    return JSON.stringify('[unable to serialize, circular reference is too complex to analyze]')\n  } finally {\n    // Ensure that we restore the object as it was.\n    while (arr.length !== 0) {\n      var part = arr.pop()\n      if (part.length === 4) {\n        Object.defineProperty(part[0], part[1], part[3])\n      } else {\n        part[0][part[1]] = part[2]\n      }\n    }\n  }\n  return res\n}\n\nfunction deterministicDecirc (val, k, edgeIndex, stack, parent, depth, options) {\n  depth += 1\n  var i\n  if (typeof val === 'object' && val !== null) {\n    for (i = 0; i < stack.length; i++) {\n      if (stack[i] === val) {\n        setReplace(CIRCULAR_REPLACE_NODE, val, k, parent)\n        return\n      }\n    }\n    try {\n      if (typeof val.toJSON === 'function') {\n        return\n      }\n    } catch (_) {\n      return\n    }\n\n    if (\n      typeof options.depthLimit !== 'undefined' &&\n      depth > options.depthLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    if (\n      typeof options.edgesLimit !== 'undefined' &&\n      edgeIndex + 1 > options.edgesLimit\n    ) {\n      setReplace(LIMIT_REPLACE_NODE, val, k, parent)\n      return\n    }\n\n    stack.push(val)\n    // Optimize for Arrays. Big arrays could kill the performance otherwise!\n    if (Array.isArray(val)) {\n      for (i = 0; i < val.length; i++) {\n        deterministicDecirc(val[i], i, i, stack, val, depth, options)\n      }\n    } else {\n      // Create a temporary object in the required way\n      var tmp = {}\n      var keys = Object.keys(val).sort(compareFunction)\n      for (i = 0; i < keys.length; i++) {\n        var key = keys[i]\n        deterministicDecirc(val[key], key, i, stack, val, depth, options)\n        tmp[key] = val[key]\n      }\n      if (typeof parent !== 'undefined') {\n        arr.push([parent, k, val])\n        parent[k] = tmp\n      } else {\n        return tmp\n      }\n    }\n    stack.pop()\n  }\n}\n\n// wraps replacer function to handle values we couldn't replace\n// and mark them as replaced value\nfunction replaceGetterValues (replacer) {\n  replacer =\n    typeof replacer !== 'undefined'\n      ? replacer\n      : function (k, v) {\n        return v\n      }\n  return function (key, val) {\n    if (replacerStack.length > 0) {\n      for (var i = 0; i < replacerStack.length; i++) {\n        var part = replacerStack[i]\n        if (part[1] === key && part[0] === val) {\n          val = part[2]\n          replacerStack.splice(i, 1)\n          break\n        }\n      }\n    }\n    return replacer.call(this, key, val)\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst events_1 = require(\"events\");\nfunction safeApply(handler, context, args) {\n    try {\n        Reflect.apply(handler, context, args);\n    }\n    catch (err) {\n        // Throw error after timeout so as not to interrupt the stack\n        setTimeout(() => {\n            throw err;\n        });\n    }\n}\nfunction arrayClone(arr) {\n    const n = arr.length;\n    const copy = new Array(n);\n    for (let i = 0; i < n; i += 1) {\n        copy[i] = arr[i];\n    }\n    return copy;\n}\nclass SafeEventEmitter extends events_1.EventEmitter {\n    emit(type, ...args) {\n        let doError = type === 'error';\n        const events = this._events;\n        if (events !== undefined) {\n            doError = doError && events.error === undefined;\n        }\n        else if (!doError) {\n            return false;\n        }\n        // If there is no 'error' event listener then throw.\n        if (doError) {\n            let er;\n            if (args.length > 0) {\n                [er] = args;\n            }\n            if (er instanceof Error) {\n                // Note: The comments on the `throw` lines are intentional, they show\n                // up in Node's output if this results in an unhandled exception.\n                throw er; // Unhandled 'error' event\n            }\n            // At least give some kind of context to the user\n            const err = new Error(`Unhandled error.${er ? ` (${er.message})` : ''}`);\n            err.context = er;\n            throw err; // Unhandled 'error' event\n        }\n        const handler = events[type];\n        if (handler === undefined) {\n            return false;\n        }\n        if (typeof handler === 'function') {\n            safeApply(handler, this, args);\n        }\n        else {\n            const len = handler.length;\n            const listeners = arrayClone(handler);\n            for (let i = 0; i < len; i += 1) {\n                safeApply(listeners[i], this, args);\n            }\n        }\n        return true;\n    }\n}\nexports.default = SafeEventEmitter;\n//# sourceMappingURL=index.js.map","var getPrototypeOf = require(\"./getPrototypeOf.js\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar XMLHttpRequestEventTarget = /** @class */ (function () {\n    function XMLHttpRequestEventTarget() {\n        this.listeners = {};\n    }\n    XMLHttpRequestEventTarget.prototype.addEventListener = function (eventType, listener) {\n        eventType = eventType.toLowerCase();\n        this.listeners[eventType] = this.listeners[eventType] || [];\n        this.listeners[eventType].push(listener.handleEvent || listener);\n    };\n    XMLHttpRequestEventTarget.prototype.removeEventListener = function (eventType, listener) {\n        eventType = eventType.toLowerCase();\n        if (!this.listeners[eventType]) {\n            return;\n        }\n        var index = this.listeners[eventType].indexOf(listener.handleEvent || listener);\n        if (index < 0) {\n            return;\n        }\n        this.listeners[eventType].splice(index, 1);\n    };\n    XMLHttpRequestEventTarget.prototype.dispatchEvent = function (event) {\n        var eventType = event.type.toLowerCase();\n        event.target = this; // TODO: set event.currentTarget?\n        if (this.listeners[eventType]) {\n            for (var _i = 0, _a = this.listeners[eventType]; _i < _a.length; _i++) {\n                var listener_1 = _a[_i];\n                listener_1.call(this, event);\n            }\n        }\n        var listener = this[\"on\" + eventType];\n        if (listener) {\n            listener.call(this, event);\n        }\n        return true;\n    };\n    return XMLHttpRequestEventTarget;\n}());\nexports.XMLHttpRequestEventTarget = XMLHttpRequestEventTarget;\n//# sourceMappingURL=xml-http-request-event-target.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./xml-http-request\"));\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nexports.XMLHttpRequestEventTarget = xml_http_request_event_target_1.XMLHttpRequestEventTarget;\n//# sourceMappingURL=index.js.map","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n"],"sourceRoot":""}